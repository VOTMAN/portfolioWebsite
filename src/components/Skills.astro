---
//Skills.astro
import skills from "../data/skills.json"
---

<section id="skills" class="min-h-[100dvh] flex flex-col items-center justify-center reveal gap-20">
  <p class="text-3xl mt-10">Here are my skills</p>
  <ul class="text-center grid lg:grid-cols-4 grid-cols-2 gap-10">

    {skills.map((skill) => {
      return <div class="flex flex-col items-center skill-card">
        <img src={skill.url} alt={skill.name + " icon"} class="w-25">
        <li class="text-2xl m-10 p-10">{skill.name}</li>
      </div>
    // <li>{p.name}</li>
    })}
  </ul>
</section>

<script>
 import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

gsap.registerPlugin(ScrollTrigger);

  gsap.fromTo(
  "#skills",
  { opacity: 0, y: 80, scale: 0.95 },
  {
    opacity: 1,
    y: 0,
    scale: 1,
    duration: 1.2,
    ease: "power3.out",
    scrollTrigger: {
      trigger: "#skills",
      start: "top 80%",
      end: "bottom 20%",
      toggleActions: "play none none reverse",
      scrub: true,
      once: true,
    },
  }
);

gsap.from(".skill-card", {
  opacity: 0,
  y: 40,
  rotate: -5,
  duration: 0.8,
  ease: "back.out(1.7)",
  stagger: 0.15,
  scrollTrigger: {
    trigger: "#skills",
    start: "top 90%",
    toggleActions: "play none none reverse",
    scrub: true,
    once: true,
  },
});
</script>